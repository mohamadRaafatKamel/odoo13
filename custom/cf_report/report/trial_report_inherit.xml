<?xml version="1.0" encoding="utf-8"?>
<odoo>

    <record id="account_report_trial_balance_view" model="ir.ui.view">
        <field name="name">Trial Balance</field>
        <field name="model">account.balance.report</field>
        <field name="inherit_id" ref="account.account_common_report_view"/>
        <field name="arch" type="xml">
            <data>
                <xpath expr="//field[@name='display_account']" position="attributes">
                    <attribute name="invisible">1</attribute>
                </xpath>
                <xpath expr="//field[@name='date_from']" position="attributes">
                    <attribute name="required">1</attribute>
                </xpath>
                <xpath expr="//field[@name='date_to']" position="attributes">
                    <attribute name="required">1</attribute>
                </xpath>
            </data>
        </field>
    </record>

    <template id="trial_report_inherit" inherit_id="accounting_pdf_reports.report_trialbalance">
        <!-- destroy table -->
        <!--        <xpath expr="//table[@class='table table-sm table-reports']" position="attributes">-->
        <!--            <attribute name="style">display: none;</attribute>-->
        <!--        </xpath>-->
        <!-- create table -->
        <!--        <xpath expr="//div[@class='row mt32']" position="after">-->
        <xpath expr="//table[@class='table table-sm table-reports']" position="replace">
            <table class="table table-sm table-reports">
                <thead>
                    <tr>
                        <th rowspan="2" style="text-align:left;">Code</th>
                        <th rowspan="2" style="text-align:center;">Account</th>
                        <th colspan="2" style="text-align:center;">Unadjusted Trial Balance</th>
                        <th colspan="2" style="text-align:center;">Adjustment</th>
                        <th colspan="2" style="text-align:center;">Adjusted Balance</th>
                    </tr>
                    <tr>
                        <th class="text-right">Debit</th>
                        <th class="text-right">Credit</th>
                        <th class="text-right">Debit</th>
                        <th class="text-right">Credit</th>
                        <th class="text-right">Debit</th>
                        <th class="text-right">Credit</th>
                    </tr>
                </thead>
                <tbody>
                    <tbody>
                        <tr t-foreach="Accounts_CF" t-as="account">

                            <td>
                                <span t-att-style="style" t-esc="account['code']"/>
                            </td>
                            <td>
                                <span t-att-style="style" t-esc="account['Account']"/>
                            </td>

                            <td class="text-right">
                                <span t-att-style="style" t-esc="account['init_d']"
                                      t-options="{'widget': 'monetary', 'display_currency': res_company.currency_id}"/>
                            </td>
                            <td class="text-right">
                                <span t-att-style="style" t-esc="account['init_c']"
                                      t-options="{'widget': 'monetary', 'display_currency': res_company.currency_id}"/>
                            </td>

                            <td class="text-right">
                                <span t-att-style="style" t-esc="account['filter_d']"
                                      t-options="{'widget': 'monetary', 'display_currency': res_company.currency_id}"/>
                            </td>
                            <td class="text-right">
                                <span t-att-style="style" t-esc="account['filter_c']"
                                      t-options="{'widget': 'monetary', 'display_currency': res_company.currency_id}"/>
                            </td>

                            <td class="text-right">
                                <span t-att-style="style" t-esc="account['total_d']"
                                      t-options="{'widget': 'monetary', 'display_currency': res_company.currency_id}"/>
                            </td>
                            <td class="text-right">
                                <span t-att-style="style" t-esc="account['total_c']"
                                      t-options="{'widget': 'monetary', 'display_currency': res_company.currency_id}"/>
                            </td>
                        </tr>
                    </tbody>
                </tbody>
                <tfoot>
                    <tr style="font-weight: bold">
                        <td>Total : </td>
                        <td></td>
                        <td class="text-right">
                            <span t-att-style="style" t-esc="account_sum['init_d']"
                                  t-options="{'widget': 'monetary', 'display_currency': res_company.currency_id}"/>
                        </td>
                        <td class="text-right">
                            <span t-att-style="style" t-esc="account_sum['init_c']"
                                  t-options="{'widget': 'monetary', 'display_currency': res_company.currency_id}"/>
                        </td>
                        <td class="text-right">
                            <span t-att-style="style" t-esc="account_sum['filter_d']"
                                  t-options="{'widget': 'monetary', 'display_currency': res_company.currency_id}"/>
                        </td>
                        <td class="text-right">
                            <span t-att-style="style" t-esc="account_sum['filter_c']"
                                  t-options="{'widget': 'monetary', 'display_currency': res_company.currency_id}"/>
                        </td>
                        <td class="text-right">
                            <span t-att-style="style" t-esc="account_sum['total_d']"
                                  t-options="{'widget': 'monetary', 'display_currency': res_company.currency_id}"/>
                        </td>
                        <td class="text-right">
                            <span t-att-style="style" t-esc="account_sum['total_c']"
                                  t-options="{'widget': 'monetary', 'display_currency': res_company.currency_id}"/>
                        </td>
                    </tr>
                </tfoot>
            </table>
        </xpath>

    </template>

</odoo>